<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />

    <link href="/styles.css" rel="stylesheet" type="text/css" />
    <title>Sighting Form</title>
  </head>
  <body>
    <% if (locals.singleSighting) { %>
    <div class="container border border-dark rounded mt-3 w-75">
      <h3 class="mt-2 mb-3">Sighting #<%= index %></h3>
      <p><b>Date:</b> <%= singleSighting.date_time %></p>
      <p><b>City:</b> <%= singleSighting.city %></p>
      <p><b>Summary:</b><br /><%= singleSighting.summary %></p>
    </div>
    <br />
    <div class="ml-3">
      <form action="/sighting/<%= index %>/edit?_method=PUT" method="POST">
        <label for="description">Text: </label><br />
        <textarea id="description" name="text">
<%= singleSighting.text %></textarea
        ><br />
        <label for="date_time">Datetime: </label><br />
        <input type="datetime-local" id="date_time" name="date_time" /><br />
        <label for="city">City: </label><br />
        <input
          type="text"
          id="city"
          name="city"
          value="<%= singleSighting.city %>"
        /><br />
        <label for="state">State: </label><br />
        <input
          type="text"
          id="state"
          name="state"
          value="<%= singleSighting.state %>"
        /><br />
        <label for="shape">Shape: </label><br />
        <input
          type="text"
          id="shape"
          name="shape"
          value="<%= singleSighting.shape %>"
        /><br />
        <label for="duration">Duration: </label><br />
        <input
          type="number"
          id="duration"
          name="duration"
          min="0"
          value="<%= Number(singleSighting.duration.replace(' minutes', '')) %>"
        />
        <label for="duration">minutes</label><br />
        <label for="summary">Summary: </label><br />
        <input
          type="text"
          id="summary"
          name="summary"
          value="<%= singleSighting.summary %>"
        /><br /><br />
        <input type="hidden" id="index" name="index" value="<%= index  %> " />
        <input type="submit" value="Submit" />
      </form>
    </div>
    <% } else { %>
    <div class="ml-3">
      <form action="/sighting" method="POST">
        <label for="description">Text: </label><br />
        <textarea id="description" name="text"></textarea><br />
        <label for="date_time">Datetime: </label><br />
        <input type="datetime-local" id="date_time" name="date_time" /><br />
        <label for="city">City: </label><br />
        <input type="text" id="city" name="city" /><br />
        <label for="state">State: </label><br />
        <input type="text" id="state" name="state" /><br />
        <label for="shape">Shape: </label><br />
        <input type="text" id="shape" name="shape" /><br />
        <label for="duration">Duration: </label><br />
        <input type="number" id="duration" name="duration" min="0" />
        <label for="duration">minutes</label><br />
        <label for="summary">Summary: </label><br />
        <input type="text" id="summary" name="summary" /><br /><br />
        <input type="submit" value="Submit" />
      </form>
    </div>
    <% } %>
  </body>
</html>
