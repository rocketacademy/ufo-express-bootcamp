<!DOCTYPE html>
<html lang="en">
  <%- include('header'); -%>
  <body>
    <%- include('navigation', { page: source }); -%>
    <div class="container">
      <% if (source === 'edit') { %>        
      <h2 class="mt-3">Edit Sighting</h2>
      <form action="/sighting/<%= sighting.index %>?_method=PUT" method="POST">
      <% } else { %>
      <h2 class="mt-3">New Sighting</h2>
      <form action="/sighting" method="POST">
      <% } %>
        <div class="row">
          <div class="mb-3 col col-sm-12">
            <label for="text" class="form-label">Description:</label>
            <textarea
              class="form-control"
              id="text"
              name="text"
              rows="10"
              required
            >
<%= (source === 'edit') ? sighting.text : '' %></textarea
            >
          </div>
          <div class="mb-3 col-sm-4">
            <label for="date_time" class="form-label">Date:</label>
            <div class="input-group">
              <input
                type="text"
                class="form-control"
                id="date_time"
                name="date_time"
                onkeydown="return false"
                value="<%= (source === 'edit') ? sighting.date_time : '' %>"
                required
              />
              <span class="input-group-text">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar-week" viewBox="0 0 16 16">
                  <path d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-5 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z"/>
                  <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
                </svg>
              </span>
            </div>
          </div>
          <div class="mb-3 col-sm-4">
            <label for="shape" class="form-label">Shape:</label>
            <input
              type="text"
              class="form-control"
              id="shape"
              name="shape"
              value="<%= (source === 'edit') ? sighting.shape : '' %>"
              required
            />
          </div>
          <div class="mb-3 col-sm-4">
            <label for="duration" class="form-label">Duration:</label>
            <input
              type="text"
              class="form-control"
              id="duration"
              name="duration"
              value="<%= (source === 'edit') ? sighting.duration : '' %>"
              required
            />
          </div>
          <div class="mb-3 col-sm-6">
            <label for="city" class="form-label">City:</label>
            <input
              type="text"
              class="form-control"
              id="city"
              name="city"
              value="<%= (source === 'edit') ? sighting.city : '' %>"
              required
            />
          </div>
          <div class="mb-3 col-sm-6">
            <label for="state" class="form-label">State:</label>
            <input
              type="text"
              class="form-control"
              id="state"
              name="state"
              value="<%= (source === 'edit') ? sighting.state : '' %>"
              required
            />
          </div>
        </div>
        <input type="submit" class="btn btn-secondary" value="Submit" />
      </form>
    </div>
  </body>
</html>
